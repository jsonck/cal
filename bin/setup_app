#!/usr/bin/env bash
set -e

echo "ğŸš€ Setting up Google Calendar Reminder App..."

# Check if .env exists
if [ ! -f .env ]; then
  echo "ğŸ“ Creating .env file from .env.example..."
  cp .env.example .env
  echo "âš ï¸  Please edit .env and add your credentials before continuing!"
  exit 1
fi

# Install dependencies
echo "ğŸ“¦ Installing dependencies..."
bundle install

# Setup database
echo "ğŸ—„ï¸  Setting up database..."
bin/rails db:create
bin/rails db:migrate

echo "âœ… Setup complete!"
echo ""
echo "Next steps:"
echo "1. Edit .env and add your Google OAuth credentials"
echo "2. Start Redis: redis-server"
echo "3. Start Sidekiq: bundle exec sidekiq"
echo "4. Start Rails: rails server"
echo "5. Visit http://localhost:3000"
